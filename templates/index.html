<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/index.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://kit.fontawesome.com/5beb01dd07.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
        

    <title>Comida de Rua</title>
</head>
<body>
        <nav class="navbar bg-dark border-bottom border-bottom-dark shadow">
            <div class="container d-flex justify-content-center">
                <img src="../static/image-removebg-preview (9).png" width="300">
            </div>
        </nav>
        <embed src="../static/shawarma-animate.svg" type="" class="background_food" >

    <main>
        <section class="shadow">
            <form action="/concluirPagamento" method="POST">
                <div class="form-floating">
                    <input type="text" class="form-control rounded" required id="name" name="name" placeholder="teste">
                    <label for="name">Nome Completo</label>
                </div>
                <label for="order">Pedido:</label>
                <select name="order" id="order" class="form-select rounded">
                    {% for item in dados %}
                    <option value="{{item.value}}">{{item.key}}</option>
                    {% endfor %}
                </select>
                <label for="hour">Horário de busca:</label>
                <input type="time" id="hour" name="hour" class="form-control rounded" placeholder="HH:MM" required>
                        <div class="payments">
                            <button type="button" class="methods_payment select" id="credit" onclick="selectPayment(event, 'Crédito')">
                                <i class="fas fa-credit-card"></i> <span>Crédito</span>
                            </button>
                            <button type="button" class="methods_payment" id="pix" onclick="selectPayment(event, 'pix')">
                                <i class="fab fa-pix"></i> <span>Pix</span>
                            </button>
                    </div>
                <input type="hidden" id="payment_method_input" name="payment_method" value="Crédito">
                <button type="submit" class="btn btn-success">Gerar Pagamento</button>
            </form>
        </section>
    </main>
    <script>
        function reset() {
        var form = document.querySelector('form');
        form.reset();
        }

        window.addEventListener('pageshow', function(event) {
        if (event.persisted) {
            reset();
        }
        });
        function selectPayment(event, paymentMethod) {
            console.log(paymentMethod);
            event.preventDefault();
            let creditButton = document.querySelector("#credit");
            let pixButton = document.querySelector("#pix");
            if (paymentMethod == 'Crédito') {
                creditButton.classList.add('select')
                pixButton.classList.remove('select')
            } else {
                creditButton.classList.remove('select')
                pixButton.classList.add('select')
            }

            const paymentMethodField = document.getElementById('payment_method_input');
            paymentMethodField.value = paymentMethod;
        }

    </script>
</body>
</html>
